<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>H&W Publishing</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    #log { width: 100%; height: 120px; background: #222; color: #0f0; font-family: monospace; padding: 8px; border-radius: 4px; overflow-y: auto; margin-top: 8px; }
  </style>
</head>
<body class="bg-light">
  <div class="container my-5 p-4 bg-white rounded shadow">
    <h1 class="mb-4">H&W Publishing</h1>
    <div class="mb-4 d-flex flex-wrap gap-2">
      <button id="gen" class="btn-control btn btn-primary">Gerar Pedidos</button>
      <button id="enqueue" class="btn-control btn btn-secondary">Processar Pedidos (Fila)</button>
      <button id="reset" class="btn-control btn btn-danger">Resetar Banco</button>
    </div>
    <div class="stats mb-4">
      <div class="table-responsive">
        <table class="table table-bordered align-middle">
          <tbody>
            <tr>
              <td><strong>Tempo geração Diamante</strong></td>
              <td id="diamanteGenTime">-</td>
            </tr>
            <tr>
              <td><strong>Tempo geração Normal</strong></td>
              <td id="normalGenTime">-</td>
            </tr>
          </tbody>
        </table>
      </div>
      <h2>Métricas de Processamento</h2>
      <div class="table-responsive">
        <table class="table table-bordered align-middle">
          <thead class="table-light">
            <tr>
              <th></th>
              <th>Total</th>
              <th>Processados</th>
              <th>Início</th>
              <th>Fim</th>
              <th>Tempo Médio (ms)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>VIP (Diamante)</strong></td>
              <td id="vipTotal">-</td>
              <td id="vipCount">-</td>
              <td id="vipFirst">-</td>
              <td id="vipLast">-</td>
              <td id="vipAvg">-</td>
            </tr>
            <tr>
              <td><strong>Normal</strong></td>
              <td id="normalTotal">-</td>
              <td id="normalCount">-</td>
              <td id="normalFirst">-</td>
              <td id="normalLast">-</td>
              <td id="normalAvg">-</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="queue-stats mb-4">
      <h2>Status das Filas</h2>
      <div class="table-responsive">
        <table class="table table-bordered align-middle">
          <thead class="table-light">
            <tr>
              <th></th>
              <th>Jobs Pendentes</th>
              <th>Jobs Ativos</th>
              <th>Jobs Concluídos</th>
              <th>Jobs c/ Falha</th>
              <th>Tempo Médio (ms)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>VIP (Diamante)</strong></td>
              <td id="vipWaiting">-</td>
              <td id="vipActive">-</td>
              <td id="vipCompleted">-</td>
              <td id="vipFailed">-</td>
              <td id="vipQueueAvg">-</td>
            </tr>
            <tr>
              <td><strong>Normal</strong></td>
              <td id="normalWaiting">-</td>
              <td id="normalActive">-</td>
              <td id="normalCompleted">-</td>
              <td id="normalFailed">-</td>
              <td id="normalQueueAvg">-</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div>
      <h2>Log</h2>
      <pre id="log"></pre>
    </div>
  </div>
  <script src="main.js"></script>
</body>
</html>